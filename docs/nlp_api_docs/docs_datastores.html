<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>docs_datastores</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="api-documentation-for-file-management-system">API Documentation for File Management System</h1>
<h2 id="overview">Overview</h2>
<p>This API provides a comprehensive system for managing files and directories. It includes functionalities for uploading, downloading, updating, deleting files, managing metadata, and viewing files in different formats. The API is built using FastAPI and integrates with a file storage utility for handling file operations.</p>
<h2 id="base-url">Base URL</h2>
<pre><code>http://localhost:8100
</code></pre>
<h2 id="endpoints">Endpoints</h2>
<h3 id="create-directory">1. Create Directory</h3>
<h4 id="post-create_directory"><code>POST /create_directory</code></h4>
<p>Creates a directory on the server and attaches custom metadata if provided.</p>
<p><strong>Request Parameters:</strong></p>
<ul>
<li><code>directory</code> (form): The path to the directory to create.</li>
<li><code>description</code> (form, optional): Custom description for the directory.</li>
<li><code>extra_metadata</code> (form, optional): Extra metadata for the directory in JSON format.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Returns the metadata of the created directory.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X POST <span class="token string">"http://localhost:8100/create_directory"</span> -F <span class="token string">"directory=documents/research"</span> -F <span class="token string">"description=Research documents"</span> -F <span class="token string">'extra_metadata={"department":"Research","category":"AI"}'</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">{</span>
  <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"documents/research"</span><span class="token punctuation">,</span>
  <span class="token string">"custom_metadata"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"description"</span><span class="token punctuation">:</span> <span class="token string">"Research documents"</span><span class="token punctuation">,</span>
    <span class="token string">"department"</span><span class="token punctuation">:</span> <span class="token string">"Research"</span><span class="token punctuation">,</span>
    <span class="token string">"category"</span><span class="token punctuation">:</span> <span class="token string">"AI"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="delete-directory">2. Delete Directory</h3>
<h4 id="delete-delete_directorydirectory_idpath"><code>DELETE /delete_directory/{directory_id:path}</code></h4>
<p>Deletes a directory and its metadata.</p>
<p><strong>Path Parameters:</strong></p>
<ul>
<li><code>directory_id</code> (path): The path to the directory to delete.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Directory deleted successfully.</li>
<li>404 Not Found: Directory not found.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X DELETE <span class="token string">"http://localhost:8100/delete_directory/documents/research"</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">{</span>
  <span class="token string">"detail"</span><span class="token punctuation">:</span> <span class="token string">"Directory deleted successfully"</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="upload-file">3. Upload File</h3>
<h4 id="post-upload"><code>POST /upload</code></h4>
<p>Uploads a file to the server and attaches custom metadata if provided.</p>
<p><strong>Request Parameters:</strong></p>
<ul>
<li><code>file</code> (form): The file to upload.</li>
<li><code>subdir</code> (form, optional): The subdirectory to save the file in.</li>
<li><code>file_description</code> (form, optional): Custom description for the file.</li>
<li><code>extra_metadata</code> (form, optional): Extra metadata for the file in JSON format.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Returns the metadata of the uploaded file.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X POST <span class="token string">"http://localhost:8100/upload"</span> -F <span class="token string">"file=@example.txt"</span> -F <span class="token string">"subdir=documents"</span> -F <span class="token string">'extra_metadata={"author":"John Doe","project":"AI Research"}'</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">{</span>
  <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"example.txt"</span><span class="token punctuation">,</span>
  <span class="token string">"size"</span><span class="token punctuation">:</span> <span class="token number">1024</span><span class="token punctuation">,</span>
  <span class="token string">"modified_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-26T12:00:00Z"</span><span class="token punctuation">,</span>
  <span class="token string">"created_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-26T10:00:00Z"</span><span class="token punctuation">,</span>
  <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"documents/example.txt"</span><span class="token punctuation">,</span>
  <span class="token string">"mime_type"</span><span class="token punctuation">:</span> <span class="token string">"text/plain"</span><span class="token punctuation">,</span>
  <span class="token string">"custom_metadata"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"author"</span><span class="token punctuation">:</span> <span class="token string">"John Doe"</span><span class="token punctuation">,</span>
    <span class="token string">"project"</span><span class="token punctuation">:</span> <span class="token string">"AI Research"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="upload-multiple-files">4. Upload Multiple Files</h3>
<h4 id="post-uploadmultiple"><code>POST /upload/multiple</code></h4>
<p>Uploads multiple files to the server and attaches custom metadata if provided.</p>
<p><strong>Request Parameters:</strong></p>
<ul>
<li><code>files</code> (form): The list of files to upload.</li>
<li><code>subdir</code> (form, optional): The subdirectory to save the files in.</li>
<li><code>file_description</code> (form, optional): Custom description for the files.</li>
<li><code>extra_metadata</code> (form, optional): Extra metadata for the files in JSON format.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Returns the paths of the uploaded files.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X POST <span class="token string">"http://localhost:8100/upload/multiple"</span> -F <span class="token string">"files=@example1.txt"</span> -F <span class="token string">"files=@example2.txt"</span> -F <span class="token string">"subdir=documents"</span> -F <span class="token string">'extra_metadata={"author":"John Doe","project":"AI Research"}'</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">{</span>
  <span class="token string">"file_ids"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">"documents/example1.txt"</span><span class="token punctuation">,</span>
    <span class="token string">"documents/example2.txt"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="update-file">5. Update File</h3>
<h4 id="put-updatefile_idpath"><code>PUT /update/{file_id:path}</code></h4>
<p>Updates an existing file and its custom metadata.</p>
<p><strong>Path Parameters:</strong></p>
<ul>
<li><code>file_id</code> (path): The ID of the file to update.</li>
</ul>
<p><strong>Request Parameters:</strong></p>
<ul>
<li><code>file</code> (form): The new file content.</li>
<li><code>file_description</code> (form, optional): Custom description for the file.</li>
<li><code>extra_metadata</code> (form, optional): Extra metadata for the file in JSON format.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Returns the metadata of the updated file.</li>
<li>404 Not Found: File not found.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X PUT <span class="token string">"http://localhost:8100/update/documents/example.txt"</span> -F <span class="token string">"file=@new_example.txt"</span> -F <span class="token string">'extra_metadata={"author":"Jane Doe","project":"New Research"}'</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">{</span>
  <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"example.txt"</span><span class="token punctuation">,</span>
  <span class="token string">"size"</span><span class="token punctuation">:</span> <span class="token number">2048</span><span class="token punctuation">,</span>
  <span class="token string">"modified_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-27T12:00:00Z"</span><span class="token punctuation">,</span>
  <span class="token string">"created_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-26T10:00:00Z"</span><span class="token punctuation">,</span>
  <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"documents/example.txt"</span><span class="token punctuation">,</span>
  <span class="token string">"mime_type"</span><span class="token punctuation">:</span> <span class="token string">"text/plain"</span><span class="token punctuation">,</span>
  <span class="token string">"custom_metadata"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"author"</span><span class="token punctuation">:</span> <span class="token string">"Jane Doe"</span><span class="token punctuation">,</span>
    <span class="token string">"project"</span><span class="token punctuation">:</span> <span class="token string">"New Research"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="save-file-metadata">6. Save File Metadata</h3>
<h4 id="post-filemetadata"><code>POST /file/metadata</code></h4>
<p>Saves custom metadata for a specified file.</p>
<p><strong>Request Parameters:</strong></p>
<ul>
<li><code>file_id</code> (form): The path to the file.</li>
<li><code>file_description</code> (form, optional): Custom description for the file.</li>
<li><code>extra_metadata</code> (form, optional): Extra metadata for the file in JSON format.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Returns the metadata of the file.</li>
<li>404 Not Found: File not found.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X POST <span class="token string">"http://localhost:8100/file/metadata"</span> -F <span class="token string">"file_id=documents/example.txt"</span> -F <span class="token string">'extra_metadata={"author":"John Doe","project":"AI Research"}'</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">{</span>
  <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"example.txt"</span><span class="token punctuation">,</span>
  <span class="token string">"size"</span><span class="token punctuation">:</span> <span class="token number">1024</span><span class="token punctuation">,</span>
  <span class="token string">"modified_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-26T12:00:00Z"</span><span class="token punctuation">,</span>
  <span class="token string">"created_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-26T10:00:00Z"</span><span class="token punctuation">,</span>
  <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"documents/example.txt"</span><span class="token punctuation">,</span>
  <span class="token string">"mime_type"</span><span class="token punctuation">:</span> <span class="token string">"text/plain"</span><span class="token punctuation">,</span>
  <span class="token string">"custom_metadata"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"author"</span><span class="token punctuation">:</span> <span class="token string">"John Doe"</span><span class="token punctuation">,</span>
    <span class="token string">"project"</span><span class="token punctuation">:</span> <span class="token string">"AI Research"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="delete-file">7. Delete File</h3>
<h4 id="delete-deletefile_idpath"><code>DELETE /delete/{file_id:path}</code></h4>
<p>Deletes a specified file and its metadata.</p>
<p><strong>Path Parameters:</strong></p>
<ul>
<li><code>file_id</code> (path): The ID of the file to delete.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: File deleted successfully.</li>
<li>404 Not Found: File not found.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X DELETE <span class="token string">"http://localhost:8100/delete/documents/example.txt"</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">{</span>
  <span class="token string">"detail"</span><span class="token punctuation">:</span> <span class="token string">"File deleted successfully"</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="retrieve-file">8. Retrieve File</h3>
<h4 id="get-filefile_idpath"><code>GET /file/{file_id:path}</code></h4>
<p>Retrieves the content of a specified file.</p>
<p><strong>Path Parameters:</strong></p>
<ul>
<li><code>file_id</code> (path): The ID of the file to retrieve.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Returns the content of the file.</li>
<li>404 Not Found: File not found.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X GET <span class="token string">"http://localhost:8100/file/documents/example.txt"</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<p>Returns the file content as a binary stream.</p>
<h3 id="list-files">9. List Files</h3>
<h4 id="get-files"><code>GET /files</code></h4>
<p>Lists all files on the server or in a specific subdirectory.</p>
<p><strong>Query Parameters:</strong></p>
<ul>
<li><code>subdir</code> (query, optional): The subdirectory to list files from.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Returns a list of file metadata.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X GET <span class="token string">"http://localhost:8100/files?subdir=documents"</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"example.txt"</span><span class="token punctuation">,</span>
    <span class="token string">"size"</span><span class="token punctuation">:</span> <span class="token number">1024</span><span class="token punctuation">,</span>
    <span class="token string">"modified_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-26T12:00:00Z"</span><span class="token punctuation">,</span>
    <span class="token string">"created_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-26T10:00:00Z"</span><span class="token punctuation">,</span>
    <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"documents/example.txt"</span><span class="token punctuation">,</span>
    <span class="token string">"mime_type"</span><span class="token punctuation">:</span> "text<span class="token operator">/</span>plain

"<span class="token punctuation">,</span>
    <span class="token string">"custom_metadata"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">"author"</span><span class="token punctuation">:</span> <span class="token string">"John Doe"</span><span class="token punctuation">,</span>
      <span class="token string">"project"</span><span class="token punctuation">:</span> <span class="token string">"AI Research"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre>
<h3 id="retrieve-file-metadata">10. Retrieve File Metadata</h3>
<h4 id="get-metadatafile_idpath"><code>GET /metadata/{file_id:path}</code></h4>
<p>Retrieves the metadata of a specified file.</p>
<p><strong>Path Parameters:</strong></p>
<ul>
<li><code>file_id</code> (path): The ID of the file to retrieve metadata for.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Returns the file metadata.</li>
<li>404 Not Found: File not found.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X GET <span class="token string">"http://localhost:8100/metadata/documents/example.txt"</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">{</span>
  <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"example.txt"</span><span class="token punctuation">,</span>
  <span class="token string">"size"</span><span class="token punctuation">:</span> <span class="token number">1024</span><span class="token punctuation">,</span>
  <span class="token string">"modified_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-26T12:00:00Z"</span><span class="token punctuation">,</span>
  <span class="token string">"created_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-26T10:00:00Z"</span><span class="token punctuation">,</span>
  <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"documents/example.txt"</span><span class="token punctuation">,</span>
  <span class="token string">"mime_type"</span><span class="token punctuation">:</span> <span class="token string">"text/plain"</span><span class="token punctuation">,</span>
  <span class="token string">"custom_metadata"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"author"</span><span class="token punctuation">:</span> <span class="token string">"John Doe"</span><span class="token punctuation">,</span>
    <span class="token string">"project"</span><span class="token punctuation">:</span> <span class="token string">"AI Research"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="retrieve-file-versions">11. Retrieve File Versions</h3>
<h4 id="get-versionsfile_idpath"><code>GET /versions/{file_id:path}</code></h4>
<p>Retrieves all versions of a specified file. (Note: Versioning is not yet implemented.)</p>
<p><strong>Path Parameters:</strong></p>
<ul>
<li><code>file_id</code> (path): The ID of the file to retrieve versions for.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Returns a placeholder message indicating versioning is not implemented.</li>
<li>404 Not Found: File not found.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X GET <span class="token string">"http://localhost:8100/versions/documents/example.txt"</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">{</span>
  <span class="token string">"detail"</span><span class="token punctuation">:</span> <span class="token string">"Versioning not implemented yet"</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="list-directories">12. List Directories</h3>
<h4 id="get-directories"><code>GET /directories</code></h4>
<p>Lists all directories in the storage.</p>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Returns a list of directory metadata.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X GET <span class="token string">"http://localhost:8100/directories"</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"documents/research"</span><span class="token punctuation">,</span>
    <span class="token string">"custom_metadata"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">"department"</span><span class="token punctuation">:</span> <span class="token string">"Research"</span><span class="token punctuation">,</span>
      <span class="token string">"category"</span><span class="token punctuation">:</span> <span class="token string">"AI"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre>
<h3 id="save-directory-metadata">13. Save Directory Metadata</h3>
<h4 id="post-directorymetadata"><code>POST /directory/metadata</code></h4>
<p>Saves custom metadata for a specified directory.</p>
<p><strong>Request Parameters:</strong></p>
<ul>
<li><code>directory</code> (form): The directory path.</li>
<li><code>description</code> (form, optional): Custom description for the directory.</li>
<li><code>extra_metadata</code> (form, optional): Extra metadata for the directory in JSON format.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Returns the metadata of the directory.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X POST <span class="token string">"http://localhost:8100/directory/metadata"</span> -F <span class="token string">"directory=documents/research"</span> -F <span class="token string">'extra_metadata={"department":"Research","category":"AI"}'</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">{</span>
  <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"documents/research"</span><span class="token punctuation">,</span>
  <span class="token string">"custom_metadata"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"description"</span><span class="token punctuation">:</span> <span class="token string">"Research documents"</span><span class="token punctuation">,</span>
    <span class="token string">"department"</span><span class="token punctuation">:</span> <span class="token string">"Research"</span><span class="token punctuation">,</span>
    <span class="token string">"category"</span><span class="token punctuation">:</span> <span class="token string">"AI"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="search-files">14. Search Files</h3>
<h4 id="get-searchfiles"><code>GET /search/files</code></h4>
<p>Searches for files based on a query and optionally within a specific subdirectory.</p>
<p><strong>Query Parameters:</strong></p>
<ul>
<li><code>query</code> (query): The search query.</li>
<li><code>subdir</code> (query, optional): The subdirectory to search within.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Returns a list of file metadata matching the search query.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X GET <span class="token string">"http://localhost:8100/search/files?query=example&amp;subdir=documents"</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"example.txt"</span><span class="token punctuation">,</span>
    <span class="token string">"size"</span><span class="token punctuation">:</span> <span class="token number">1024</span><span class="token punctuation">,</span>
    <span class="token string">"modified_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-26T12:00:00Z"</span><span class="token punctuation">,</span>
    <span class="token string">"created_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-26T10:00:00Z"</span><span class="token punctuation">,</span>
    <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"documents/example.txt"</span><span class="token punctuation">,</span>
    <span class="token string">"mime_type"</span><span class="token punctuation">:</span> <span class="token string">"text/plain"</span><span class="token punctuation">,</span>
    <span class="token string">"custom_metadata"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">"author"</span><span class="token punctuation">:</span> <span class="token string">"John Doe"</span><span class="token punctuation">,</span>
      <span class="token string">"project"</span><span class="token punctuation">:</span> <span class="token string">"AI Research"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre>
<h3 id="filter-files">15. Filter Files</h3>
<h4 id="get-filterfiles"><code>GET /filter/files</code></h4>
<p>Filters files based on MIME type and size.</p>
<p><strong>Query Parameters:</strong></p>
<ul>
<li><code>mime_type</code> (query, optional): The MIME type to filter by.</li>
<li><code>min_size</code> (query, optional): The minimum file size in bytes.</li>
<li><code>max_size</code> (query, optional): The maximum file size in bytes.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Returns a list of file metadata matching the filter criteria.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X GET <span class="token string">"http://localhost:8100/filter/files?mime_type=text/plain&amp;min_size=500&amp;max_size=2000"</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"example.txt"</span><span class="token punctuation">,</span>
    <span class="token string">"size"</span><span class="token punctuation">:</span> <span class="token number">1024</span><span class="token punctuation">,</span>
    <span class="token string">"modified_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-26T12:00:00Z"</span><span class="token punctuation">,</span>
    <span class="token string">"created_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-26T10:00:00Z"</span><span class="token punctuation">,</span>
    <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"documents/example.txt"</span><span class="token punctuation">,</span>
    <span class="token string">"mime_type"</span><span class="token punctuation">:</span> <span class="token string">"text/plain"</span><span class="token punctuation">,</span>
    <span class="token string">"custom_metadata"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">"author"</span><span class="token punctuation">:</span> <span class="token string">"John Doe"</span><span class="token punctuation">,</span>
      <span class="token string">"project"</span><span class="token punctuation">:</span> <span class="token string">"AI Research"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre>
<h3 id="view-file">16. View File</h3>
<h4 id="get-viewfile_idpath"><code>GET /view/{file_id:path}</code></h4>
<p>View a file in its readable representation (e.g., text, PDF, DOCX).</p>
<p><strong>Path Parameters:</strong></p>
<ul>
<li><code>file_id</code> (path): The ID of the file to view.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Returns the content of the file in a readable format (HTML).</li>
<li>404 Not Found: File not found.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X GET <span class="token string">"http://localhost:8100/view/documents/example.txt"</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<pre class=" language-html"><code class="prism  language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">&gt;</span></span>This is the content of the example.txt file.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<h3 id="download-file">17. Download File</h3>
<h4 id="get-downloadfile_idpath"><code>GET /download/{file_id:path}</code></h4>
<p>Downloads a specified file.</p>
<p><strong>Path Parameters:</strong></p>
<ul>
<li><code>file_id</code> (path): The ID of the file to download.</li>
</ul>
<p><strong>Response:</strong></p>
<ul>
<li>200 OK: Returns the file for download.</li>
<li>404 Not Found: File not found.</li>
<li>400 Bad Request: Invalid input.</li>
<li>500 Internal Server Error: Server error.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre class=" language-bash"><code class="prism  language-bash">curl -X GET <span class="token string">"http://localhost:8100/download/documents/example.txt"</span>
</code></pre>
<p><strong>Example Response:</strong></p>
<p>Returns the file content as a binary stream for download.</p>
<h2 id="models">Models</h2>
<h3 id="filemetadata">FileMetadata</h3>
<p>Model representing metadata for a file.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><code>name</code> (str): The name of the file.</li>
<li><code>size</code> (int): The size of the file in bytes.</li>
<li><code>modified_time</code> (str): The last modified time of the file in ISO 8601 format.</li>
<li><code>created_time</code> (str): The creation time of the file in ISO 8601 format.</li>
<li><code>path</code> (str): The relative path to the file in the storage.</li>
<li><code>mime_type</code> (Optional[str]): The MIME type of the file, if available.</li>
<li><code>custom_metadata</code> (Optional[Dict[str, Any]]): Any custom metadata associated with the file.</li>
</ul>
<p><strong>Example:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">{</span>
  <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"example.txt"</span><span class="token punctuation">,</span>
  <span class="token string">"size"</span><span class="token punctuation">:</span> <span class="token number">1024</span><span class="token punctuation">,</span>
  <span class="token string">"modified_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-26T12:00:00Z"</span><span class="token punctuation">,</span>
  <span class="token string">"created_time"</span><span class="token punctuation">:</span> <span class="token string">"2023-06-26T10:00:00Z"</span><span class="token punctuation">,</span>
  <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"documents/example.txt"</span><span class="token punctuation">,</span>
  <span class="token string">"mime_type"</span><span class="token punctuation">:</span> <span class="token string">"text/plain"</span><span class="token punctuation">,</span>
  <span class="token string">"custom_metadata"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"author"</span><span class="token punctuation">:</span> <span class="token string">"John Doe"</span><span class="token punctuation">,</span>
    <span class="token string">"project"</span><span class="token punctuation">:</span> <span class="token string">"AI Research"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="directorymetadata">DirectoryMetadata</h3>
<p>Model representing metadata for a directory.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><code>path</code> (str): The path to the directory in the storage.</li>
<li><code>custom_metadata</code> (Optional[Dict[str, Any]]): Any custom metadata associated with the directory.</li>
</ul>
<p><strong>Example:</strong></p>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">{</span>
  <span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string">"documents/research"</span><span class="token punctuation">,</span>
  <span class="token string">"custom_metadata"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"description"</span><span class="token punctuation">:</span> <span class="token string">"Research documents"</span><span class="token punctuation">,</span>
    <span class="token string">"department"</span><span class="token punctuation">:</span> <span class="token string">"Research"</span><span class="token punctuation">,</span>
    <span class="token string">"category"</span><span class="token punctuation">:</span> <span class="token string">"AI"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="error-handling">Error Handling</h2>
<p>The API provides detailed error responses for different scenarios, including:</p>
<ul>
<li><code>400 Bad Request</code>: For invalid input.</li>
<li><code>404 Not Found</code>: When the requested resource is not found.</li>
<li><code>500 Internal Server Error</code>: For server errors.</li>
</ul>
<p>Each error response includes a description and additional details when necessary.</p>
<h2 id="usage">Usage</h2>
<p>To use the API, you can make HTTP requests to the provided endpoints using tools like <code>curl</code>, Postman, or any HTTP client library in your preferred programming language.</p>
<h3 id="usage-example">Usage Example</h3>
<p>with Python</p>
<p>Below is a Python example using the <code>requests</code> library to interact with the API:</p>
<h4 id="create-a-directory">1. Create a Directory</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/create_directory"</span>
data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">"directory"</span><span class="token punctuation">:</span> <span class="token string">"documents/research"</span><span class="token punctuation">,</span>
    <span class="token string">"description"</span><span class="token punctuation">:</span> <span class="token string">"Research documents"</span><span class="token punctuation">,</span>
    <span class="token string">"extra_metadata"</span><span class="token punctuation">:</span> <span class="token string">'{"department": "Research", "category": "AI"}'</span>
<span class="token punctuation">}</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="upload-a-file">2. Upload a File</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/upload"</span>
files <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'file'</span><span class="token punctuation">:</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'example.txt'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">"subdir"</span><span class="token punctuation">:</span> <span class="token string">"documents"</span><span class="token punctuation">,</span>
    <span class="token string">"file_description"</span><span class="token punctuation">:</span> <span class="token string">"Example text file"</span><span class="token punctuation">,</span>
    <span class="token string">"extra_metadata"</span><span class="token punctuation">:</span> <span class="token string">'{"author": "John Doe", "project": "AI Research"}'</span>
<span class="token punctuation">}</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> files<span class="token operator">=</span>files<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="retrieve-file-metadata-1">3. Retrieve File Metadata</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/metadata/documents/example.txt"</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="download-a-file">4. Download a File</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/download/documents/example.txt"</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'downloaded_example.txt'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>response<span class="token punctuation">.</span>content<span class="token punctuation">)</span>
</code></pre>
<h4 id="update-a-file">5. Update a File</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/update/documents/example.txt"</span>
files <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'file'</span><span class="token punctuation">:</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'new_example.txt'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">"file_description"</span><span class="token punctuation">:</span> <span class="token string">"Updated example text file"</span><span class="token punctuation">,</span>
    <span class="token string">"extra_metadata"</span><span class="token punctuation">:</span> <span class="token string">'{"author": "Jane Doe", "project": "New Research"}'</span>
<span class="token punctuation">}</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>put<span class="token punctuation">(</span>url<span class="token punctuation">,</span> files<span class="token operator">=</span>files<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="list-files-1">6. List Files</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/files?subdir=documents"</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="delete-a-file">7. Delete a File</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/delete/documents/example.txt"</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="retrieve-a-file">8. Retrieve a File</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/file/documents/example.txt"</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'retrieved_example.txt'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>response<span class="token punctuation">.</span>content<span class="token punctuation">)</span>
</code></pre>
<h4 id="save-file-metadata-1">9. Save File Metadata</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/file/metadata"</span>
data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">"file_id"</span><span class="token punctuation">:</span> <span class="token string">"documents/example.txt"</span><span class="token punctuation">,</span>
    <span class="token string">"file_description"</span><span class="token punctuation">:</span> <span class="token string">"Example text file"</span><span class="token punctuation">,</span>
    <span class="token string">"extra_metadata"</span><span class="token punctuation">:</span> <span class="token string">'{"author": "John Doe", "project": "AI Research"}'</span>
<span class="token punctuation">}</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="upload-multiple-files-1">10. Upload Multiple Files</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/upload/multiple"</span>
files <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">(</span><span class="token string">'files'</span><span class="token punctuation">,</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'example1.txt'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'files'</span><span class="token punctuation">,</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'example2.txt'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">"subdir"</span><span class="token punctuation">:</span> <span class="token string">"documents"</span><span class="token punctuation">,</span>
    <span class="token string">"file_description"</span><span class="token punctuation">:</span> <span class="token string">"Batch upload"</span><span class="token punctuation">,</span>
    <span class="token string">"extra_metadata"</span><span class="token punctuation">:</span> <span class="token string">'{"author": "John Doe", "project": "AI Research"}'</span>
<span class="token punctuation">}</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> files<span class="token operator">=</span>files<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="search-for-files">11. Search for Files</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/search/files"</span>
params <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">"query"</span><span class="token punctuation">:</span> <span class="token string">"example"</span><span class="token punctuation">,</span>
    <span class="token string">"subdir"</span><span class="token punctuation">:</span> <span class="token string">"documents"</span>
<span class="token punctuation">}</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> params<span class="token operator">=</span>params<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="filter-files-1">12. Filter Files</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/filter/files"</span>
params <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">"mime_type"</span><span class="token punctuation">:</span> <span class="token string">"text/plain"</span><span class="token punctuation">,</span>
    <span class="token string">"min_size"</span><span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
    <span class="token string">"max_size"</span><span class="token punctuation">:</span> <span class="token number">2000</span>
<span class="token punctuation">}</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> params<span class="token operator">=</span>params<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="view-a-file">13. View a File</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/view/documents/example.txt"</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
</code></pre>
<h4 id="list-directories-1">14. List Directories</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/directories"</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="save-directory-metadata-1">15. Save Directory Metadata</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/directory/metadata"</span>
data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">"directory"</span><span class="token punctuation">:</span> <span class="token string">"documents/research"</span><span class="token punctuation">,</span>
    <span class="token string">"description"</span><span class="token punctuation">:</span> <span class="token string">"Research documents"</span><span class="token punctuation">,</span>
    <span class="token string">"extra_metadata"</span><span class="token punctuation">:</span> <span class="token string">'{"department": "Research", "category": "AI"}'</span>
<span class="token punctuation">}</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="retrieve-file-versions-1">16. Retrieve File Versions</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/versions/documents/example.txt"</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="list-files-2">17. List Files</h4>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">"http://localhost:8100/files"</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
</div>
</body>

</html>
